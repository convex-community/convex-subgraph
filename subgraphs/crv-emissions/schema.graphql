type Gauge @entity {
  id: ID!
  address: Bytes!
  type: GaugeType!

  pool: Pool!
  created: BigInt!
  createdAtBlock: BigInt!
  createdAtTransaction: Bytes!

  weights: [GaugeWeight!] @derivedFrom(field: "gauge")
  emissions: [Emission!] @derivedFrom(field: "gauge")
}

type Pool @entity {
  id: ID!
  lpToken: Bytes!
  name: String!
  swap: Bytes!
  assetType: Int!
  coins: [Bytes!]! #address
  gauges: [Gauge!] @derivedFrom(field: "pool")
  snapshots: [PoolSnapshot!] @derivedFrom(field: "pool")
  emissions: [Emission!] @derivedFrom(field: "pool")

}

type PoolSnapshot @entity {
  id: ID!
  pool: Pool!
  virtualPrice: BigDecimal!
  fees: BigDecimal!
  lpTokenSupply: BigInt!
  tvl: BigDecimal!
  timestamp: BigInt!
  block: BigInt!
}

type GaugeWeight @entity {
  id: ID!
  gauge: Gauge!
  timestamp: BigInt!
  block: BigInt!
  weight: BigDecimal!
}

type Emission @entity {
  id: ID!
  gauge: Gauge!
  pool: Pool!
  timestamp: BigInt!
  block: BigInt!
  crvAmount: BigDecimal!
  value: BigDecimal!
}

type GaugeType @entity {
  id: ID!
  name: String!
  weight: BigDecimal!
  gaugeCount: BigInt!
  gauges: [Gauge!] @derivedFrom(field: "type")
}

type GaugeTotalWeight @entity {
  id: ID!
  timestamp: BigInt!
  block: BigInt!
  weight: BigDecimal!
}